$(document).ready(function () {
    function n(e) {
        e.wrap("<div class='table-wrapper' />");
        var t = e.clone();
        t.find("td:not(:first-child), th:not(:first-child)").css("display", "none");
        t.removeClass("responsive");
        e.closest(".table-wrapper").append(t);
        t.wrap("<div class='pinned' />");
        e.wrap("<div class='scrollable' />");
        i(e, t)
    }

    function r(e) {
        e.closest(".table-wrapper").find(".pinned").remove();
        e.unwrap();
        e.unwrap()
    }

    function i(e, t) {
        var n = e.find("tr"), r = t.find("tr"), i = [];
        n.each(function (e) {
            var t = $(this), n = t.find("th, td");
            n.each(function () {
                var t = $(this).outerHeight(true);
                i[e] = i[e] || 0;
                if (t > i[e])i[e] = t
            })
        });
        r.each(function (e) {
            $(this).height(i[e])
        })
    }

    var e = false;
    var t = function () {
        if ($(window).width() < 767 && !e) {
            e = true;
            $("table.responsive").each(function (e, t) {
                n($(t))
            });
            return true
        } else if (e && $(window).width() > 767) {
            e = false;
            $("table.responsive").each(function (e, t) {
                r($(t))
            })
        }
    };
    $(window).load(t);
    $(window).on("redraw", function () {
        e = false;
        t()
    });
    $(window).on("resize", t)
})
